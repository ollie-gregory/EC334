<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Large firms, production networks, business cycles – Advanced Macroeconomics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>
window.MathJax = {
  tex: {
    packages: {'[+]': ['color']}
  }
};
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../pages/part4.html">Large Firms, Production Networks, and Business Cycles</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Advanced Macroeconomics</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/part1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Growing Differences Between Firms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/part2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Firm Heterogeneity and Market Power</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/part3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Productivity Dispersion, Concentration, and Oligopoly</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/part4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Large Firms, Production Networks, and Business Cycles</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/part5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Market Power and Innovation</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#is-there-really-such-a-thing-as-an-aggregate-shock" id="toc-is-there-really-such-a-thing-as-an-aggregate-shock" class="nav-link active" data-scroll-target="#is-there-really-such-a-thing-as-an-aggregate-shock">Is there really such a thing as an aggregate shock?</a></li>
  <li><a href="#lucas-diversification-argument-1977" id="toc-lucas-diversification-argument-1977" class="nav-link" data-scroll-target="#lucas-diversification-argument-1977">Lucas diversification argument (1977)</a>
  <ul class="collapse">
  <li><a href="#what-is-the-lucas-diversification-argument" id="toc-what-is-the-lucas-diversification-argument" class="nav-link" data-scroll-target="#what-is-the-lucas-diversification-argument">What is the Lucas diversification argument?</a></li>
  <li><a href="#what-is-the-model-environment" id="toc-what-is-the-model-environment" class="nav-link" data-scroll-target="#what-is-the-model-environment">What is the model environment?</a></li>
  <li><a href="#what-is-the-gdp-volatility-in-this-economy" id="toc-what-is-the-gdp-volatility-in-this-economy" class="nav-link" data-scroll-target="#what-is-the-gdp-volatility-in-this-economy">What is the GDP volatility in this economy?</a></li>
  </ul></li>
  <li><a href="#granular-shocks" id="toc-granular-shocks" class="nav-link" data-scroll-target="#granular-shocks">Granular shocks</a>
  <ul class="collapse">
  <li><a href="#what-is-the-effect-of-heterogeneous-firm-size-on-the-diversification-result" id="toc-what-is-the-effect-of-heterogeneous-firm-size-on-the-diversification-result" class="nav-link" data-scroll-target="#what-is-the-effect-of-heterogeneous-firm-size-on-the-diversification-result">What is the effect of heterogeneous firm size on the diversification result?</a></li>
  </ul></li>
  <li><a href="#hultens-theorem" id="toc-hultens-theorem" class="nav-link" data-scroll-target="#hultens-theorem">Hulten’s theorem</a>
  <ul class="collapse">
  <li><a href="#what-is-gdp" id="toc-what-is-gdp" class="nav-link" data-scroll-target="#what-is-gdp">What is GDP?</a></li>
  <li><a href="#what-is-hultens-theorem-1978" id="toc-what-is-hultens-theorem-1978" class="nav-link" data-scroll-target="#what-is-hultens-theorem-1978">What is Hulten’s Theorem (1978)?</a></li>
  <li><a href="#what-is-the-derivation-for-hultens-theorem" id="toc-what-is-the-derivation-for-hultens-theorem" class="nav-link" data-scroll-target="#what-is-the-derivation-for-hultens-theorem">What is the derivation for Hulten’s theorem?</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Large firms, production networks, business cycles</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="is-there-really-such-a-thing-as-an-aggregate-shock" class="level3">
<h3 class="anchored" data-anchor-id="is-there-really-such-a-thing-as-an-aggregate-shock">Is there really such a thing as an aggregate shock?</h3>
<ul>
<li>Macroeconomy is made up of millions of firms and hundreds of sectors.</li>
<li>Could shocks to individual firms or sectors drive business cycles?</li>
</ul>
<p><img src="Large firms, production networks, business cycles 196a84b4cffb800eaadccb96c71ea526/Screenshot_2025-02-10_at_09.46.42.png" class="img-fluid"></p>
<ul>
<li><p>Growth is not distributed equally and firms are very heterogeneous.</p></li>
<li><p>Soap industry vs automobile industry</p>
<p><img src="Large firms, production networks, business cycles 196a84b4cffb800eaadccb96c71ea526/Screenshot_2025-02-10_at_11.21.38.png" class="img-fluid"></p>
<ul>
<li>The blue line represents the soap industry that was unaffected by the financial crisis for example, while the dashed line represents the automobile industry which was significantly affected by the financial crisis.</li>
</ul></li>
</ul>
</section>
<section id="lucas-diversification-argument-1977" class="level2">
<h2 class="anchored" data-anchor-id="lucas-diversification-argument-1977">Lucas diversification argument (1977)</h2>
<section id="what-is-the-lucas-diversification-argument" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-lucas-diversification-argument">What is the Lucas diversification argument?</h3>
<p>The Lucas diversification argument posits that micro shocks cannot affect the macroeconomy because they end up all cancelling out with each other.</p>
</section>
<section id="what-is-the-model-environment" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-model-environment">What is the model environment?</h3>
<ul>
<li><p>The economy is composed of <span class="math inline">\(K\)</span> production entities.</p>
<ul>
<li>Could be firms, sectors, regions, … — something that is at the sub-aggregate level.</li>
</ul></li>
<li><p>Factors are supplied inelastically, which means that only productivity shocks can affect the economy.</p></li>
<li><p>Entity <span class="math inline">\(k \in K\)</span> is subject to idiosyncratic and i.i.d. output <span class="math inline">\(a_{k,t}\)</span>.</p></li>
<li><p>GDP is found by summing the output of all firms.</p>
<p><span class="math display">\[
  Y_t = \sum_{k\in K} a_{k,t}
  \]</span></p></li>
<li><p>We abstract from elastically supplied inputs and nominal rigidities, etc.</p></li>
</ul>
</section>
<section id="what-is-the-gdp-volatility-in-this-economy" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-gdp-volatility-in-this-economy">What is the GDP volatility in this economy?</h3>
<p>Let the idiosyncratic shocks be as follows:</p>
<p><span class="math display">\[
\frac{\Delta a_{k,t}}{a_{k,t-1}} = \frac{a_{k,t} - a_{k,t-1}}{a_{k,t-1}} = \sigma_{k}\epsilon_{k,t}
\]</span></p>
<ul>
<li>Where <span class="math inline">\(\epsilon_{k,t}\)</span> has mean <span class="math inline">\(0\)</span> and variance <span class="math inline">\(1\)</span>.
<ul>
<li><span class="math inline">\(\sigma_k\)</span> measures the size of the shock and represents the overall standard deviation of firm growth.</li>
</ul></li>
</ul>
<p>GDP growth is:</p>
<p><span class="math display">\[
\frac{\Delta Y_t}{Y_{t-1}} = \frac{1}{Y_{t-1}}\sum_{k\in K}\Delta a_{k,t} = \sum_{k \in K}\frac{a_{k,t-1}}{Y_{t-1}} \sigma_k \epsilon_{k,t}
\]</span></p>
<ul>
<li><p>What is the standard deviation of GDP growth?</p>
<p>Shocks are independent and uncorrelated so <span class="math inline">\(\sigma_Y = \sqrt{\text{var}(\frac{\Delta Y_t}{Y_{t-1}})}\)</span> is,</p>
<p><span class="math display">\[
  \sigma_Y = \left(\sum_{k \in K}\sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right)^{\frac12}
  \]</span></p>
<ul>
<li><p>Mathematical derivation</p>
<p>We use the formula for calculating the variance,</p>
<p><span class="math display">\[
  \text{var}(X) = \mathbb{E}[X^2] - \mathbb{E}[X]^2
  \]</span></p>
<p>We will also use the fact that <span class="math inline">\(\epsilon_{k,t}\)</span> has mean <span class="math inline">\(0\)</span> and variance <span class="math inline">\(1\)</span>.</p>
<p><span class="math display">\[
  \begin{split}
  \mathbb{E}\left[\left( \sum_{k \in K}\frac{a_{k,t-1}}{Y_{t-1}} \sigma_k \epsilon_{k,t} \right)^2\right] - \mathbb{E}\left[\sum_{k \in K}\frac{a_{k,t-1}}{Y_{t-1}} \sigma_k \epsilon_{k,t}\right]^2
  \end{split}
  \]</span></p>
<p>Because <span class="math inline">\(\epsilon_{k,t}\)</span> has mean <span class="math inline">\(0\)</span>, the right hand side goes to <span class="math inline">\(0\)</span>. The next stage is to expand the square on the left hand side, which we do using the following formula:</p>
<p><span class="math display">\[
  \left(\sum_{k=1}^N x_k\right)^2 = \sum_{k=1}^N x_k \times \sum_{j=1}^N x_j = \sum_{k=1}^N \sum_{j=1}^N x_k  x_j
  \]</span></p>
<p>When we apply this to the expression inside the expectation term, we get,</p>
<p><span class="math display">\[
  \left( \sum_{k \in K}\frac{a_{k,t-1}}{Y_{t-1}} \sigma_k \epsilon_{k,t} \right)^2 =  \sum_{j \in J}\sum_{k \in K}\frac{a_{k,t-1}}{Y_{t-1}} \sigma_k \epsilon_{k,t} \frac{a_{j,t-1}}{Y_{t-1}} \sigma_j \epsilon_{j,t}
  \]</span></p>
<p>Using the fact that <span class="math inline">\(\epsilon_{k,t}\)</span> has mean zero, along with the fact that <span class="math inline">\(\mathbb{E}[X+Y] = \mathbb{E}[X] + \mathbb{E}[Y]\)</span>, we can therefore reduce the left hand side of this whole expression to,</p>
<p><span class="math display">\[
  \mathbb{E}\left[\sum_{k\in K} \sigma_k^2\epsilon_{k,t}^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right]
  \]</span></p>
<p>This is because all of the terms where <span class="math inline">\(k \neq j\)</span>, take the expectation of different <span class="math inline">\(\epsilon_{k,t}\)</span> meaning that the overall expectation of those terms is <span class="math inline">\(0\)</span>, leaving only the terms were <span class="math inline">\(k = j\)</span>.</p>
<p>We now use two more rules of expectations which are that the expectation of a constant is the constant, <span class="math inline">\(\mathbb{E}[\lambda] = \lambda\)</span>, and that the expectation of a product is equal to the product of expectations, <span class="math inline">\(\mathbb{E}[XY] = \mathbb{E}[X]\mathbb{E}[Y]\)</span>.</p>
<p><span class="math display">\[
  \begin{split}
  \mathbb{E}\left[\sum_{k\in K} \sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right]\mathbb{E}[\epsilon_{k,t}^2] &amp;= \left[\sum_{k\in K} \sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right](\mathbb{E}[\epsilon_{k,t}^2] + \mathbb{E}[\epsilon_{k,t}]^2)\\
  &amp;= \left[\sum_{k\in K} \sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right]\text{var}(\epsilon_{k,t})
  \\
  &amp;=\sum_{k\in K} \sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2
  \end{split}
  \]</span></p>
<p>This once again uses the fact that <span class="math inline">\(\mathbb{E}[\epsilon_{k,t}] = 0\)</span> and therefore adds <span class="math inline">\(0\)</span> to the term <span class="math inline">\(\mathbb{E}[\epsilon_{k,t}^2]\)</span> and allows us to use the formula for the variance. This is useful because we know that the variance of <span class="math inline">\(\epsilon_{k,t}\)</span> is <span class="math inline">\(1\)</span>. All that is left therefore is to take the square root to arrive at the standard deviation for GDP growth.</p>
<p><span class="math display">\[
  \sigma_Y = \left(\sum_{k \in K}\sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right)^{\frac12}
  \]</span></p></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled" title="Critical assumption">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Critical assumption
</div>
</div>
<div class="callout-body-container callout-body">
<p>Assume that all firms/production entities have the same volatility and size.</p>
</div>
</div>
<p>This reduces the volatility of GDP growth to,</p>
<p><span class="math display">\[
\begin{split}
\sigma_Y &amp;= \left(\sum_{k \in K}\sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right)^{\frac12}\\
&amp;= \left(\sum_{k \in K}\sigma_k^2\left[\frac{1}{N}\right]^2\right)^{\frac12}\\
&amp;= \frac{\sigma}{\sqrt{N}} \text{ where } N = |K|
\end{split}
\]</span></p>
<ul>
<li>Empirically, <span class="math inline">\(N\)</span> is large, so the effect of idiosyncratic shocks is very small.
<ul>
<li><p>Individual shocks average out to <span class="math inline">\(0\)</span>.</p></li>
<li><p>For example, across 473 NAICS manufacturing industries, the average volatility is 9% <span class="math inline">\((\sigma = 0.09)\)</span>.</p>
<p><span class="math display">\[
  \hat{\sigma}_Y = \frac{0.009}{\sqrt{473}} = 0.0041
  \]</span></p>
<ul>
<li>This means that according to this model, idiosyncratic shocks cause a volatility of 0.41% while in reality, the GDP volatility of the manufacturing industry is 3%.</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="granular-shocks" class="level2">
<h2 class="anchored" data-anchor-id="granular-shocks">Granular shocks</h2>
<p>In most economic models, microeconomic shocks have no aggregate effects, this is because:</p>
<ul>
<li>They assume a very large number of identical and small firms.</li>
<li>Idiosyncratic shocks cancel out by the law of large numbers.</li>
</ul>
<p>In practice though, some firms are very large: e.g.&nbsp;Nokia in 2003 made up 26% of Finnish private sector GDP.</p>
<section id="what-is-the-effect-of-heterogeneous-firm-size-on-the-diversification-result" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-effect-of-heterogeneous-firm-size-on-the-diversification-result">What is the effect of heterogeneous firm size on the diversification result?</h3>
<p>If we allow for differences in firm size, but enforce the same volatility, we find that GDP volatility is the firm volatility multiplied by the square root of the Herfindahl (HHI) Index.</p>
<p><span class="math display">\[
\begin{split}
\sigma_Y &amp;= \left(\sum_{k \in K}\sigma_k^2\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right)^{\frac12}\\
&amp;= \sigma \left(\sum_{k \in K}\left[\frac{a_{k,t-1}}{Y_{t-1}}\right]^2\right)^{\frac12}\\
&amp;= \sigma h \text{ where $h$ is $\sqrt{\text{HHI}}$}
\end{split}
\]</span></p>
<p>Gabaix (2011) found that the Herfindahl declines slowly in <span class="math inline">\(N\)</span> if firm size distribution is fat tailed.</p>
<p><strong>In the data</strong></p>
<p><img src="Large firms, production networks, business cycles 196a84b4cffb800eaadccb96c71ea526/Screenshot_2025-02-13_at_17.25.16.png" class="img-fluid"></p>
<ul>
<li>Multiplying the HHI by an average firm volatility of 12% from Axtell (2001) gives a GDP volatility of about 1%.</li>
</ul>
</section>
</section>
<section id="hultens-theorem" class="level2">
<h2 class="anchored" data-anchor-id="hultens-theorem">Hulten’s theorem</h2>
<section id="what-is-gdp" class="level3">
<h3 class="anchored" data-anchor-id="what-is-gdp">What is GDP?</h3>
<p>So far, we have defined GDP as the sum of i.i.d. outputs <span class="math inline">\(a\)</span>. This is because in macroeconomics, we typically think of an aggregate production function <span class="math inline">\(Y = AF(K,L)\)</span>. However, at the micro level, there are many ‘production recipes’:</p>
<p><span class="math display">\[
Y_i = A_i F(K_i, L_i, \textcolor{red}{M_i})
\]</span></p>
<p>where <span class="math inline">\(M_i\)</span> represents intermediate inputs. These intermediate inputs introduce a source of <strong>shock propagation</strong> for micro shocks to affect the macro economy.</p>
</section>
<section id="what-is-hultens-theorem-1978" class="level3">
<h3 class="anchored" data-anchor-id="what-is-hultens-theorem-1978">What is Hulten’s Theorem (1978)?</h3>
<p>Consider an <strong>efficient</strong> economy, meaning that welfare theorems apply. Then, under minimal assumptions, the following holds:</p>
<p><span class="math display">\[
\frac{d \log(Y)}{d \log(z_i)} = \lambda_i
\]</span></p>
<p>Here, <span class="math inline">\(\lambda_i\)</span> is a firm or sector’s <strong>Domar weight</strong>:</p>
<p><span class="math display">\[
\lambda_i = \frac{p_iy_i}{\text{GDP}}
\]</span></p>
<div class="callout callout-style-default callout-note callout-titled" title="Domar weights">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Domar weights
</div>
</div>
<div class="callout-body-container callout-body">
<p>The sum of all Domar weights should be greater than one because GDP represents value added, but firms use a lot of intermediate goods in their production, i.e., firm output is not the same as firm value added.</p>
</div>
</div>
</section>
<section id="what-is-the-derivation-for-hultens-theorem" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-derivation-for-hultens-theorem">What is the derivation for Hulten’s theorem?</h3>
<p><strong>What is the model environment</strong></p>
<ul>
<li><p>The economy consists of <span class="math inline">\(n\)</span> competitive firms/industries.</p></li>
<li><p>Each industry produces using,</p>
<ul>
<li><span class="math inline">\(n\)</span> intermediate inputs.</li>
<li><span class="math inline">\(m\)</span> primary factors.</li>
</ul></li>
<li><p>The production function has constant returns to scale and can be made up of any combination of inputs.</p>
<p><span class="math display">\[
  y_i = z_if(x_{i1},...,x_{in};I_{i1},..., I_{im})
  \]</span></p></li>
<li><p>A representative household has preferences over all goods.</p>
<p><span class="math display">\[
  Y = u(c_1,...,c_n)
  \]</span></p>
<ul>
<li>This is also homogeneous of degree 1, meaning that multiplying all inputs by a constant, has the effect of multiplying the output by the same constant.</li>
</ul></li>
<li><p>Of a firms output <span class="math inline">\(y_i\)</span>, <span class="math inline">\(c_i\)</span> of it is consumed as final goods, and <span class="math inline">\(x_i\)</span> is used as intermediate goods.</p></li>
<li><p>Households are endowed with <span class="math inline">\(h_k\)</span> units of primary good <span class="math inline">\(k\)</span>.</p></li>
</ul>
<p>As the welfare theorems hold, we can analyse this from the social planner’s perspective in order to simplify the problem.</p>
<p><strong>What is the social planner’s problem?</strong></p>
<p>The social planner chooses consumption, factor, and intermediate usage to maximise utility.</p>
<p><span class="math display">\[
Y = \max_{c_i, I_{ik}, x_{ij}} u(c_1,...,c_n) \text{ s.t.}
\]</span> <span class="math display">\[
c_i + \sum_{j=1}^n x_{ji} = z_i f(x_{i1},...,x_{in}; I_{i1},...,I_{im}) \text{ where } i = 1,...,n
\]</span> <span class="math display">\[
\sum_{i=1}^n I_{ik} = h_k \text{ where } k = 1,...,m
\]</span></p>
<p>The constrained optimisation problem can therefore be written as,</p>
<p><span class="math display">\[
\mathcal{L} = u(c_1,...,c_n) - \sum_i^n \eta_i \left[c_i + \sum_{j=1}^n x_{ji} = z_i f(x_{i1},...,x_{in}; I_{i1},...,I_{im})\right] - \sum_{i=1}^m \omega_j \left[\sum_{i=1}^n I_{ik} - h_k\right]
\]</span></p>
<p><strong>How does GDP change when good <span class="math inline">\(i\)</span> has a higher productivity?</strong></p>
<p>Using the envelope theorem, in the neighbourhood of the efficient allocation, we can say that <span class="math inline">\(\frac{dY}{d z_i} = \frac{\delta\mathcal{L}}{\delta z_i}\)</span>:</p>
<p><span class="math display">\[
\frac{\delta\mathcal{L}}{\delta z_i} = \eta_i f(x_{i1},...,x_{in};I_{i1},..., I_{im}) = \frac{\eta_iy_i}{z_i}
\]</span></p>
<p>To express this as an elasticity, in percentage terms,</p>
<p><span class="math display">\[
\frac{d \log Y}{d\log z_i} = \frac{d Y}{d z_i}\frac{z_i}{Y} = \frac{\eta_i y_i}{z_i} \frac{z_i}{Y} = \frac{\eta_i y_i}{Y}
\]</span></p>
<p><strong>What is the first order condition for the consumption of good <span class="math inline">\(i\)</span>?</strong></p>
<p><span class="math display">\[
\left.\frac{\delta \mathcal{L}}{\delta c_i}\right|_{c_i^*} = \frac{\delta u}{\delta c_i} - \eta_i = 0
\]</span> <span class="math display">\[
\frac{\delta u}{\delta c_i} = \eta_i
\]</span></p>
<p><strong>How can we use the household problem to get at the marginal utility of good <span class="math inline">\(i\)</span>?</strong></p>
<p>As the welfare theorems hold, the household problem is the same as the social planner’s problem.</p>
<p><span class="math display">\[
Y = \max_{c_i, I_{ik}, x_{ij}} u(c_1, ... , c_n) \text{ s.t. }\sum_{j=1}^n p_ic_i = \sum_{k=1}^m w_k h_k
\]</span></p>
<ul>
<li><p>What is the first order condition from the decentralised equilibrium problem?</p>
<p>Langrangian:</p>
<p><span class="math display">\[
  \mathcal{L} = u(c_1,...,c_n) - \phi \left(\sum_{j=1}^n p_ic_i - \sum_{k=1}^m w_k h_k \right)
  \]</span></p>
<p>FOC:</p>
<p><span class="math display">\[
  \left .\frac{\delta \mathcal{L}}{\delta c_i}\right|_{c_i^*} = \frac{\delta u}{\delta c_i} - \phi p_i = 0
  \]</span> <span class="math display">\[
  \frac{\delta u}{\delta c_i} = \phi p_i = \eta_i
  \]</span></p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This means we can rewrite <span class="math inline">\(\frac{d \log Y}{d\log z_i} = \frac{\eta_i y_i}{Y}\)</span> as <span class="math inline">\(\frac{\phi p_i y_i}{Y}\)</span>.</p>
</div>
</div>
<p><strong>How can we use Euler’s homogeneous function theorem to relate GDP to utility?</strong></p>
<p>Euler’s homogeneous function theorem for 1st degree homogeneity says that,</p>
<p><span class="math display">\[
\sum_{j \in h} f_j'(h) \times j = f(h)
\]</span></p>
<p>where <span class="math inline">\(h\)</span> is a full set of variables, <span class="math inline">\(f_j'(h)\)</span> is the partial derivative of <span class="math inline">\(f\)</span> with respect to <span class="math inline">\(h\)</span>.</p>
<ul>
<li><p>Example</p>
<p><span class="math display">\[
  y = k^\alpha l^{1-\alpha}
  \]</span> <span class="math display">\[
  \begin{split}
  &amp;\text{(1): }y_k' = \alpha k^{\alpha - 1}l^{1-\alpha},\\&amp;\text{(2): } y'_l = (1-\alpha)k^\alpha l^{-\alpha}
  \end{split}
  \]</span> <span class="math display">\[
  k y_k' + ly_l' = y\alpha + y(1-\alpha) = y
  \]</span></p></li>
</ul>
<p>In our case, <span class="math inline">\(Y = u(c_1,...,c_n) = \sum_{i=1}^n \frac{\delta u}{\delta c_i}c_i \implies Y = \phi \sum_{i=1}^n p_i c_i = \phi \text{GDP}\)</span>.</p>
<p>Combining these together gives,</p>
<p><span class="math display">\[
\frac{d \log Y}{d \log z_i} = \frac{\phi p_iy_i}{\phi \text{GDP}} = \frac{p_i y_i}{\text{GDP}}
\]</span></p>
<div class="callout callout-style-default callout-note callout-titled" title="Hulten's theorem">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hulten’s theorem
</div>
</div>
<div class="callout-body-container callout-body">
<p>All you need to know to determine the effect of shocks to <span class="math inline">\(i\)</span> is their Domar weight or share of sales in GDP.</p>
<ul>
<li>The microeconomic details of the production structure are irrelevant.</li>
<li>Intuitively, this is because sales capture both consumption and use as an intermediate input.</li>
</ul>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>